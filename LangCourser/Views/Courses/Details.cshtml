@using ISBD_project.Resources
@using ISBD_project.Session
@model ISBD_project.Models.Course

@{
    ViewBag.Title = "Details";
}

<h2>@Shared.Details</h2>

<div>
    <h4>@Shared.Course</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt class="col-md-2 control-label">@Shared.CourseName</dt>

        <dd>
            @Html.DisplayFor(model => model.Language.nameL)
        </dd>

        <dt class="col-md-2 control-label">@Shared.Lecturer</dt>

        <dd>
            @Html.DisplayFor(model => model.Users.nameU)
        </dd>

        <dt class="col-md-2 control-label">@Shared.CourseName</dt>

        <dd>
            @Html.DisplayFor(model => model.nameC)
        </dd>
        @using (Html.BeginForm("Create", "UserCourseAffiliations", FormMethod.Post, new {id = "logoutForm", @class = "navbar-right"}))
        {
            @Html.AntiForgeryToken()
            <dd>
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                @Html.Hidden("idU", SessionMocker.Instance.LoggedUser.Account.idU)
                @Html.ValidationSummary(true, "", new {@class = "text-danger"})
                @Html.Hidden("idC", Model.idC)
            </dd>
            
            <div class="form-group">
                <div class="col-md-offset-2 col-md-10">
                    <input type="submit" value="@Shared.SignIn" class="btn btn-default" />
                </div>
            </div>
        }

    </dl>
</div>
<p>
    @if (SessionMocker.Instance.LoggedUser.Role == "Admin" || SessionMocker.Instance.LoggedUser.Account.idU == Model.lecturerC)
    {
        @Html.ActionLink(Shared.Edit, "Edit", new { id = Model.idC })
    } |
    @Html.ActionLink(Shared.Back, "Index")
</p>
